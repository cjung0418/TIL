# OOP(Object Oriented Programming), 객체지향프로그래밍

## OOP

- 객체: 모든 것이 객체
- 객체지향 프로그래밍에서
  - 객체-실제 집
  - 클래스 - 청사진
  - 인스턴스
- 함수는 데이터 (객체)를 수동적으로 처리
- 메서드는 데이터(객체)가 메서드를 주도적으로 실행
- 객체는 특정 타입의 인스턴스이다.
- 인스턴스는 무엇에 대한 인스턴스인지가 필요하다.
- 변수 이름은 이름일 뿐, 객체가 아니다. 객체는 그 값을 말하는 것
- 객체의 특징:
  - 타입: 어떤 연산자(operator)와 조작(method)이 가능한가?
  - 속성(attribute): 어떤 상태(데이터)를 가지는가?
  - 조작법(method): 어떤 행위(함수)를 할 수 있는가?
- is 연산자: 객체의 아이덴티티를 검사하는 연산자
- isinstance(object, classinfo): 
  - classinfo의 인스턴스이거나 subclass*인 경우 True
  - classinfo가 type들로 구성된 tuple인 경우 하나라도 일치하면 True
- 객체의 속성:
  - <object\>.<attribute\> (뒤에 괄호가 없음). 
  - 속성은 객체의 상태, 데이터 ex) (3+4j).real, (3+4j).imag
- 객체의 메서드:
  - <object\>.<method\>()
  - 메서드는 특정 객체에 적용될 수 있는 행위를 뜻하며, 일반적으로 클래스에 정의된 함수이다



## 객체 지향 프로그래밍

- 프로그래밍 패러다임: 기능에 따라 프로그래밍 언어를 분류하는 방법

  - 명령형 프로그래밍: 프로그래머가 기계에서 상태를 변경하는 방법을 지시
    1. 절차 지향 프로그래밍: 함수와 데이터로 변화
    2. 객체 지향 프로그래밍: 데이터와 기능을 분리, 추상화된 구조

- 객체지향 프로그래밍: 컴퓨터 프로그램을 명령어의 목적으로 보는 시각에서 벗어나 여러 개의 독립된 단위, 즉 '객체'들의 모임으로 파악하고자 하는 것.

- why 객체 지향?: 현실 세계를 프로그램 설계에 반영(추상화)

- 클래스는 인스턴스의 설계도이다.

- 속성(attribute): 

  - 정보 ex) 가로 길이, 세로 길이
  - 특정 데이터 타입/클래스의 객체들이 가지게 될 상태/데이터를 의미

- 메서드(method): 

  - 클래스의 행동 ex) 사각형의 넓이
  - 특정 데이터 타입/클래스의 객체에 공통적으로 적용 가능한 행위(함수)

- 속성과 메서드는 인스턴스.~로 접근한다.

- 클래스 정의(파스칼 케이스를 사용하여 이름 짓는다 ex)MyClass) -> 인스턴스 생성 -> 메서드 호출 or 속성

- 클래스 정의는 class Myclass:의 형태로 정의한다. def를 사용하는 것이 아니다.

- 클래스: 객체들의 분류, 인스턴스: 하나하나의 실체

- type -> class -> instance. 왼쪽부터 상위 범주이다. type는 재귀적.

- self: 

  - 인스턴스 자기자신, 파이썬에서 인스턴스 메서드는 호출 시 첫번째로 자신이 전달되게 설계 
  - 맨 처음에 self를 써야만 하는 이유는 아직 인스턴스들은 만들어 지지 않았기 때문에 나중에 이것들의 변수명을 넣어야 할 때를 위해 그냥 self라고 퉁쳐서 적용

- class라는 것도 하나의 변수, 그런데 일반적인 변수(함수를 제외한)는 a()와 같이 call X. 그런데 class는 가능하다. 그 이유는 __init_\_가 실행되고 있기 때문이다.

- 생성자(constructor): 

  - __init\_\_(self,...):
  - 인스턴스 객체가 생성될 때 호출되는 메서드

- 소멸자(destructor):

  - __del\_\_(self):
  - 인스턴스 객체가 소멸(파괴)되기 직전에 호출되는 메서드

- __str\_\_: print()로 해당 인스턴스 자체 출력시의 형식을 지정

- __repr\_\_: print()가 아니라 그냥 변수명 자체로 출력시킬 때의 형식 지정

- 매직 메서드: Double Underscore(__) or 던더 스코어가 있는 메서드는 특수한 동작을 위해 만들어진 메서드로, 스페셜 메서드 혹은 매직 메서드라고 불림.

  

## 클래스와 인스턴스

- 함수의 범위참조는 LEGB이지만, 클래스는 인스턴스 변수->클래스 변수이다. 따라서 클래스의 메서드에 변수가 없는 경우 클래스 변수를 참조하는 것이 아니라 클래스 밖의 global에서 그 변수를 찾는다.
- 인스턴스 변수: 
  - 인스턴스의 속성
  - 각 인스턴스들의 고유한 변수
  - 인스턴스마다 완전히 독립적이므로 변수의 값을 수정하면 오로지 해당 객체에만 영향을 미침
  - 인스턴스로 클래스 변수 변경 시도 시, 해당 인스턴스에서 클래스 변수 이름으로 인스턴스 변수가 생성되어 더 이상 클래스 변수에 접근할 수 없음. 클래스 변수가 변경되는 것은 아님
- 클래스 변수: 
  - 클래스 속성 
  - 모든 인스턴스가 공유
  - 클래스 선언 내부에서 정의, <classname\>.<name\>으로 접근 및 할당. 단, <instancename\>.<name\>으로 이를 확인할 수 있다.
- 클래스에서 변수를 찾는 순서는 인스턴스 -> 클래스 -> 전역이다. 따라서 <instance\>.<name\> = 'a'로 할당시 클래스 변수는 변하지 않는다. 단, 클래스 변수를 바꾸면, 인스턴스에서 이를 할당하지 않아도 표시되는 것들이 바뀜
- 인스턴스와 클래스 간의 이름 공간: 클래스를 정의하면, 클래스와 해당하는 이름 공간 생성.--> 인스턴스를 만들면 인스턴스 이름 공간 생성, 인스턴스에서 특정 속성에 접근하면, 인스턴스->클래스 순으로 탐색, 하지만 반대로 클래스에서 인스턴스로 접근할 수 없다.
- 메서드의 종류: 
  - 인스턴스 메서드: 
    - 인스턴스가 사용할 메서드, 클래스 내부에 정의되는 메서드의 기본
    - 호출 시, 첫번째 인자로 인스턴스 자기자신(self)이 전달됨 ex) 'apple',capitalize()는 원래 str.capitalize('apple')와 같은 것이다.
  - 클래스 메서드:
    - 클래스가 사용할 메서드
    - @classmethod 데코레이터를 사용하여 정의
    - 호출 시, 첫번째 인자로 클래스(cls)가 전달됨
    - 클래스 내부의 값들을 수정하기 위해 사용
  - 스태틱 메서드:
    - 클래스가 사용할 메서드
    - @staticmethod 데코레이터를 사용하여 정의
    - 호출 시, 어떠한 인자(self, cls)도 전달되지 않음(클래스 정보에 접근/수정 불가)
    - 일반 함수처럼 동작하지만 클래스의 이름공간에 귀속됨 - 주로 해당 클래스로 한정하는 역할을 함
    - 객체 지향 프로그래밍과 절차 지향 프로그래밍 스타일 사이를 연결하는 역할을 하기도 함
- 메서드 정리: 접근 가능하다 != 사용한다. 인스턴스 변수에서 3가지 메서드에 접근할 수는 있지만, 인스턴스 메서드만을 사용하는 것이 바람직
- == & is:
  - ==: 동등한, 변수가 참조하고 있는 객체가 동등한(내용이 같은) 경우 True, 두 객체가 같아 보이지만 실제로 동일한 대상을 가리키고 있다고 확인해 준 것은 아님
  - is: 동일한(identical), 두 변수가 동일한 객체를 가리키는 경우 True
- 스태틱 메서드와 클래스 메서드를 사용하는 것은 개발자의 의도를 전달하는 동시에 개발자가 자신의 의도를 강제해 버그로 인해 설계를 깨뜨리지 않도록 함
- __init\_\_로 초기화를 할 때, 함수로 쓸 것을 거기에 쓰면, 함수를 속성처럼 쓸 수는 있지만, 다른 속성의 변화를 반영하지 못한다는 단점이 존재한다. -> @property를 사용
- @property는 메서드에 사용하고 def method위에 @property를 쓴다. 이것을 사용하면 ()를 사용하지 않아도 된다. 하지만 인자가 추가적으로 필요한 경우 이를 사용할 수 없다.



## 상속

- 클래스는 상속이 가능, 모든 파이썬 클래스는 object를 상속 받음

- 상속을 통해 객체 간의 관계를 구축

- 부모 클래스의 속성, 메서드가 자식 클래스에 상속되므로 코드 재사용성이 높아짐

- 부모에만 메서드를 써주기만 하면 자식은 그 메서드를 사용할 수 있다.

- super(): 자식클래스에서 부모 클래스를 사용하고 싶을 경우 -> super().__init\_\_(name,..) 등으로 부모클래스에서의 생성자에서 self를 제외한 것을 사용하면 밑에서 self...로 정의하지 않아도 된다.

- 메서드 오버라이딩: 

  - 상속받은 메서드를 재정의 하는것.
  - 상속받은 클래스에서 같은 이름의 메서드로 덮어씀. 

- 상속 정리:

  - 파이썬의 모든 클래스는 object부터 상속됨
  - 부모 클래스의 모든 요소(속성, 메서드)가 상속됨
  - super()를 통해 부모 클래스의 요소를 호출할 수 있음
  - 메서드 오버라이딩을 통해 자식 클래스에서 재정의 가능함
  - 상속관계에서의 이름공간은 인스턴스, 자식 클래스, 부모 클래스 순으로 탐색

- 다중상속: 두 개 이상의 클래스를 상속 받는 경우 다중 상속이 됨- 상속받은 모든 클래스의 요소를 활용 가능. 중복된 속성이나 메서드가 있는 경우 상속 순서에 의해 결정(앞에서부터 적용)

  





